<launch>
      <arg name="mav_name" default="flightgoggles"/>

      <param name="max_acc" value="10.0" />
      <param name="riseq/Kp_x" value="3.0" />
      <param name="riseq/Kp_y" value="3.0" />
      <param name="riseq/Kp_z" value="3.5" />   
      <param name="riseq/Kd_x" value="2.0" />
      <param name="riseq/Kd_y" value="2.0" />
      <param name="riseq/Kd_z" value="2.0" />
      <param name="riseq/Kr" value="8.0"/>
      <param name="riseq/Ko" value="3.0"/>

      <rosparam command="load" file="$(find riseq_common)/config/drones/$(arg mav_name).yaml"/>
      <node pkg="riseq_trajectory" type="riseq_simple_trajectory.py" name="trajectory_publisher"/>
	<node pkg="riseq_control" type="position_controller_node" name="position_controller" output="screen">
		<remap from="/riseq/uav/state" to="/uav/state"/>
		<remap from="/riseq/uav/rateThrust" to="/uav/input/rateThrust"/>
            <remap from="/riseq/uav/trajectory" to="/uav_ref_trajectory"/> <!--/riseq/uav_simple_trajectory -->
            <remap from="/riseq/uav/motorspeed" to="/uav/input/motorspeed"/> 
	</node>

      <!-- /uav/state/pose/pose/position /riseq/uav/trajectory/pose/position /riseq/uav/desired_orientation/pose/orientation-->
      <node name="rqt_plot" type="rqt_plot" pkg="rqt_plot" args="/uav/input/rateThrust/thrust/z /uav/input/rateThrust/thrust/y /uav_ref_trajectory/thrust /uav/input/rateThrust/angular_rates /uav_ref_trajectory/pose/position"/>
      <!-- node pkg="rosbag" name="rec" type="record" args="-o controller_test /uav_ref_trajectory /uav/state     /uav/input/rateThrust /uav/input/motorspeed"/-->
      <node pkg="riseq_common" type="flightgoggles_arm" name="flightgoggles_arm_node" output="screen">
            <remap from="/riseq/uav/trajectory" to="/uav_ref_trajectory"/> <!--/riseq/uav_simple_trajectory -->
      </node>

</launch>